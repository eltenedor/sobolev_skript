\chapter{Embeddings and Sobolev Inequalities}

We ask the question if $u \in \WW^{k,p}(\Omega)$ automatically belongs to some other function spaces.
The answer is \emph{yes}, but we will see that to which spaces $u$ belongs depends on $p$, e.g. for $k = 1$ and $p < n$, $p = n$ or $p > n$.

More precisely, we ask whether $X = \WW^{k,p}(\Omega)$ is embedded into a space $Y$ in the following sense.

\begin{defn}
  \label{defn:embedding}
  Let $X, Y$ be Banach spaces with $X \subset Y$.
  \begin{enumerate}[a)]
    \item We say that $X$ is \emph{continuously embedded into $Y$} if there is $C > 0$ such that
      $$
      \|u\|_Y \leq C \, \|u\|_X \quad\text{for all } u \in X.
      $$
    \item We say that $X$ is \emph{compactly embedded into $Y$} if it is continuously embedded into $Y$ and any bounded sequence in $X$ is \emph{precompact in $Y$}, i.e. for any $(u_m)_{m \in \N} \subset X$ with $\|u_m\|_X \leq M$ for all $m \in \N$, there is a subsequence $(u_{m_j})_{j \in \N}$ and $u \in Y$ such that $\|u_{m_j} - u\|_Y \to 0$ as $j \to \infty$.
  \end{enumerate}
\end{defn}

The main tool for studying such embeddings will be Sobolev-type inequalities.

\section{Embeddings into \texorpdfstring{$\Ell^q(\Omega)$}{L\textasciicircum q(Omega)} Spaces}
\label{sec:lpEmbedding}

Let us assume $p \in [1,n)$ and ask the question for which $q \in [1,\infty)$ there exists a constant $C > 0$ such that
\begin{equation}
  \label{eq:sobolevTypeIneq}
  \|u\|_{\Ell^q(\R^n)} \leq C \, \|\nabla u\|_{\Ell^p(\R^n)} \quad\text{for all } u \in \CC_0^\infty(\R^n). 
\end{equation}

\begin{motiv}
  We first demonstrate that if \eqref{eq:sobolevTypeIneq} holds, then $q$ has to have a specific form:
  To this end, let $u \in \CC_0^\infty(\Omega)$ with $u \neq 0$ and for $\lambda > 0$
  $$
  u_\lambda(x) \coloneqq u(\lambda x) \quad\text{for all } x \in \R^n.
  $$
  Then the transformation rule implies
  \begin{align*}
    \int_{\R^n} |u_\lambda(x)|^q \d x 
    &= \int_{\R^n} |u(\lambda x)|^q \d x
    = \frac{1}{\lambda^n} \int_{\R^n} |u(y)|^q \d y, \\
    \int_{\R^n} |\nabla u_\lambda(x) |^p \d x &= \lambda^p \int_{\R^n} |(\nabla u)(\lambda x)|^p \d x = \frac{\lambda^p}{\lambda^n} \int_{\R^n} |\nabla u(y)|^p \d y.
  \end{align*}
  If \eqref{eq:sobolevTypeIneq} holds for any $\lambda > 0$, then 
  \begin{align}
  \lambda^{-\frac{n}{q}} \| u\|_{\Ell^q(\R^n)}
  = \| u_\lambda\|_{\Ell^q(\R^n)}
    &\leq C \, \|\nabla u_\lambda\|_{\Ell^p(\R^n)}
  = C \, \lambda^{1 - \frac{n}{p}} \| \nabla u \|_{\Ell^p(\R^n)} \nonumber\\
  \intertext{and therefore}
    \label{eq:sobolevConjMotiv}
    \|u \|_{\Ell^q(\R^n)} 
    &\leq C \, \lambda^{1 - \frac{n}{p} + \frac{n}{q}} \|\nabla u\|_{\Ell^p(\R^n)}.
\end{align}
  But if $1 - \frac{n}{p} + \frac{n}{q} \neq 0$, then sending $\lambda$ to either $0$ or $\infty$ in \eqref{eq:sobolevConjMotiv} yields $u \equiv 0$, a contradiction.

  Hence, if \eqref{eq:sobolevTypeIneq} is satisfied, then necessarily we must have $\frac{1}{q} = \frac{1}{p} - \frac{1}{n}$ and $q = \frac{n p }{n - p}$.
  This motivates the following definition.
\end{motiv}

\begin{defn}
  If $p \in [1,n)$, then $p^* \coloneqq \frac{np}{n - p}$ is the \emph{Sobolev conjugate} of $p$.
  In particular, $\frac{1}{p^*} = \frac{1}{p} - \frac{1}{n}$.
\end{defn}

We next prove that \eqref{eq:sobolevTypeIneq} is in fact true for $q = p^*$.

\begin{thm}[Gagliardo-Nirenberg-Sobolev inequality]
  \label{thm:gagliardoNirenberg}
  Assume that $p \in [1,n)$.
  Then there exists $C > 0$, depending only on $p$ and $n$, such that
  \begin{equation}
    \label{eq:gagliardoNirenbergSobolevIneq}
    \| u\|_{\Ell^{p^*}(\R^n)} \leq C \, \|\nabla u\|_{\Ell^p(\R^n)} \quad\text{for all } u \in \CC_0^1(\R^n).
  \end{equation}
  Moreover, we have $\WW^{1,p}(\R^n) \subset \Ell^{p^*}(\R^n)$ and \eqref{eq:gagliardoNirenbergSobolevIneq} holds for all $u \in \WW^{1,p}(\R^n)$
\end{thm}

\begin{rem}
  We need that $u$ in \eqref{eq:gagliardoNirenbergSobolevIneq} has compact support, as $u \equiv 1$ shows, but $C$ does not depend on the size of the support.
\end{rem}

\begin{proof}[Proof of Theorem \ref{thm:gagliardoNirenberg}]
  \begin{enumerate}[i)]
    \item Let $u \in \CC_0^1(\R^n)$ and $p = 1$, whence $p^* = \frac{n}{n - 1}$.
      Since $\supp(u)$ is compact, we have for all $x \in \R^n$ and $i \in \{1,\dots,n\}$
      \begin{align*}
        u(x) &= \int_{-\infty}^{x_i} u_{x_i}(x_1,\dots,x_{i - 1}, y_i, x_{i + 1}, \dots, x_n) \d y_i \\
        \intertext{and}
        |u(x)| &\leq \int_{-\infty}^\infty |\nabla u(x_1,\dots,x_{i - 1}, y_i, x_{i + 1}, \dots,x_n)| \d y_i. \\
        \intertext{Hence,}
        |u(x)|^{\frac{n}{n - 1}} &\leq \prod_{i = 1}^n \left( \int_{-\infty}^\infty |\nabla u(x_1,\dots,x_{i - 1}, y_i, x_{i + 1}, \dots, x_n) | \d y_i \right)^{\frac{1}{n - 1}}.
      \end{align*}
      Integrating this with respect to $x_1$ and using the general Hölder inequality (\ref{sec:lpBasics} viii) with $p_k = n - 1, k = 1,\dots,n - 1$)
      \begin{align*}
        \int_{-\infty}^\infty |u|^{\frac{n}{n - 1}}(x) \d x_1
        &\leq \int_{-\infty}^\infty \prod_{i = 1}^n \left( \int_{-\infty}^\infty |\nabla u| \d y_i \right)^{\frac{1}{n - 1}} \d x_1 \\
        &= \left( \int_{-\infty}^\infty |\nabla u| \d y_1 \right)^{\frac{1}{n - 1}} \, \int_{-\infty}^\infty \prod_{i = 2}^n \left( \int_{-\infty}^\infty |\nabla u| \d y_i \right)^{\frac{1}{n - 1}} \d x_1 \\
        &\leq \left( \int_{-\infty}^\infty |\nabla u| \d y_1 \right)^{\frac{n}{n - 1}} \, \prod_{i = 2}^n \left( \int_{-\infty}^\infty \int_{-\infty}^\infty |\nabla u| \d y_i \d x_1 \right)^{\frac{1}{n - 1}}.
      \end{align*}
      Integrating with respect to $x_2$ and using again the general Hölder inequality, we get
      \begin{align*}
        \int_{-\infty}^\infty &\int_{-\infty}^\infty |u(x)|^{\frac{n}{n - 1}} \d x_1 \d x_2 \\
        &\leq \left( \int_{-\infty}^\infty \int_{-\infty}^\infty |\nabla u| \d y_2 \d x_1 \right)^{\frac{1}{n - 1}} \\
        &\quad\quad \cdot \int_{-\infty}^\infty  \left[ \left( \int_{-\infty}^\infty |\nabla u| \d y_1 \right)^{\frac{1}{n - 1}} \prod_{i = 3}^n \left( \int_{-\infty}^\infty \int_{-\infty}^\infty  |\nabla u| \d x_1 \d y_i \right)^{\frac{1}{n - 1}} \right] \d x_2 \\
        &\leq \left( \int_{-\infty}^\infty \int_{-\infty}^\infty |\nabla u| \d y_2 \d x_1 \right)^{\frac{1}{n - 1}} \\
        &\quad\quad \cdot \left( \int_{-\infty}^\infty \int_{-\infty}^\infty | \nabla u| \d y_1 \d x_2 \right)^{\frac{1}{n - 1}} \prod_{i = 3}^n \left( \int_{-\infty}^\infty \int_{-\infty}^\infty \int_{-\infty}^\infty |\nabla u| \d x_1 \d x_2 \d y_i  \right)^{\frac{1}{n - 1}}.
      \end{align*}
      Continuing like this and integrating with respect to $x_3,\dots,x_n$, we finally have
      \begin{align}
        \begin{split}
        \label{eq:gagliardoNirenbergStep1}
        \int_{\R^n} |u(x)|^{\frac{n}{n - 1}} \d x
        &\leq \prod_{i = 1}^n \left( \int_{-\infty}^\infty \cdots \int_{-\infty}^\infty |\nabla u| \d x_1 \dots \d y_i  \dots \d x_n \right)^{\frac{1}{n - 1}} \\
        &= \left( \int_{\R^n} |\nabla u(x)| \d x \right)^{\frac{n}{n - 1}}
        \end{split}
      \end{align}
      which establishes \eqref{eq:gagliardoNirenbergSobolevIneq} for $p = 1$ with $C = 1$.

    \item Let $p \in (1,n)$ and $u \in \CC_0^1(\R^n)$.
      For $\gamma > 1$, $v \coloneqq |u|^\gamma \in \CC_0^1(\R^n)$ and by \eqref{eq:gagliardoNirenbergStep1} applied to $v$ we have by the Hölder inequality
      \begin{align}
        \begin{split}
        \label{eq:gagliardoNierenberg2}
        \left(\int_{\R^n} |u|^{\frac{\gamma n}{n - 1}} \d x\right)^{\frac{n - 1}{n}}
        &\leq \int_{\R^n} \Big| \nabla (|u|^\gamma) \Big| \d x 
        = \int_{\R^n} \gamma | u|^{\gamma - 1} | \nabla u| \d x \\ 
        &\leq \gamma \left(\int_{\R^n} |u|^{(\gamma - 1) \frac{p}{p - 1}} \d x \right)^{\frac{p - 1}{p}} \left( \int_{\R^n} | \nabla u|^p \d x \right)^{\frac{1}{p}}.
        \end{split}
      \end{align}
      Choosing $\gamma \coloneqq \frac{p (n - 1)}{n - p} > 1$, we have $\frac{\gamma n}{n - 1} = (\gamma - 1)\frac{p}{p - 1}$ and hence
      $$
      \frac{\gamma n}{n - 1} = \frac{(np - p) + (p - n)}{n - p} \cdot \frac{p }{p - 1} = \frac{n p }{n - p} = p^*.
      $$
      Thus, in view of $\frac{n - 1}{n} - \frac{p - 1}{p} = \frac{1}{p} - \frac{1}{n} = \frac{1}{p^*}$, \eqref{eq:gagliardoNierenberg2} becomes \eqref{eq:gagliardoNirenbergSobolevIneq} for $C = \gamma$.

    %\item As $\WW^{1,p}(\R^n) = \WW_0^{1,p}(\R^n)$ by Corollary \ref{cor:W0andWcoincide} for $u \in \WW^{1,p}(\R^n)$ there is $(u_m)_{m \in \N} \subset \CC_0^\infty(\R^n)$ such that $u_m \to u$ in $\WW^{1,p}(\R^n)$.
    \item As $\WW^{1,p}(\R^n) = \WW_0^{1,p}(\R^n)$ by Corollary \ref{cor:W0andWcoincide} for $u \in \WW^{1,p}(\R^n)$ there is $(u_m)_{m \in \N} \subset \CC_0^\infty(\R^n)$ such that $u_m \to u$ in $\WW^{1,p}(\R^n)$ and, up to the choice of a subsequence, $u_m \to u$ a.e.
      %Hence, $\nabla u_m \to \nabla u$ in $\Ell^p(\R^n)$ and, as \eqref{eq:gagliardoNirenbergSobolevIneq} holds for any $u_m$, in the limit $l \to \infty$ we conclude by Fatou's lemma that $u$ satisfies \eqref{eq:gagliardoNirenbergSobolevIneq} since $u_{m_l} \to u$ a.e. in $\R^n$.
      Hence, $\nabla u_m \to \nabla u$ in $\Ell^p(\R^n)$ and, as \eqref{eq:gagliardoNirenbergSobolevIneq} holds for any $u_m$, we conclude by Fatou's lemma that $u$ satisfies \eqref{eq:gagliardoNirenbergSobolevIneq}.
      As \eqref{eq:gagliardoNirenbergSobolevIneq} therefore holds for all $u \in \WW^{1,p}(\R^n)$, $\WW^{1,p}(\R^n)$ is continuously embedded into $\Ell^{p^*}(\R^n)$. \qedhere
  \end{enumerate}
\end{proof}

Using the previous result, we get a corresponding result on bounded domains.

\begin{thm}[Embeddings for $\WW^{1,p}(\Omega), p < n$]
  \label{thm:embeddingpltn}
  Let $\Omega \subset \R^n$ be a bounded domain with $\partial\Omega \in \CC^1$ and $p \in [1,n)$.
    Then $\WW^{1,p}(\Omega)$ is continuously embedded into $\Ell^q(\Omega)$ for all $q \in [1,p^*]$.
    More precisely, for any $q \in [1,p^*]$ there is $C > 0$ depending on $p$, $q$, $n$, and $\Omega$ such that
    \begin{equation}
      \label{eq:embeddingpltn}
      \|u\|_{\Ell^q(\Omega)} \leq C \, \| u\|_{\WW^{1,p}(\Omega)} \quad\text{for all } u \in \WW^{1,p}(\Omega).
    \end{equation}
\end{thm}

\begin{proof}
  Since $\partial \Omega \in \CC^1$, by Theorem \ref{thm:extension} there exists $v \coloneqq E(u) \in \WW^{1,p}(\R^n)$ such that $v = u$ a.e. in $\Omega$ and $\|v\|_{\WW^{1,p}(\R^n)} \leq C_1 \, \|u\|_{\WW^{1,p}(\Omega)}$ with $C_1 > 0$ depending only on $p$ and $\Omega$.
  Then by Theorem \ref{thm:gagliardoNirenberg} we have $v \in \Ell^{p^*}(\R^n)$ and
  $$
  \| u\|_{\Ell^{p^*}(\Omega)} = \|v\|_{\Ell^{p^*}(\Omega)} \leq \|v\|_{\Ell^{p^*}(\R^n)} \leq C_2 \, \|\nabla v\|_{\Ell^p(\R^n)} \leq C_1 C_2 \, \|u\|_{\WW^{1,p}(\Omega)}
  $$
  where $C_2$ is the constant from \eqref{eq:gagliardoNirenbergSobolevIneq} (depending on $p$ and $n$).
  This shows the claim for $q = p^*$.

  As $\Omega$ is bounded, Hölder's inequality implies that $u \in \Ell^q(\Omega)$ for $q \in [1,p^*)$ with
  \begin{align}
    \label{eq:embeddingpltn}
    \|u\|_{\Ell^q(\Omega)}
     \leq \left[ \left( \int_\Omega 1^{\frac{p^*}{p^* - q}} \d x \right)^{\frac{p^* - q}{p^*}} \cdot \left( \int_\Omega |u|^{q  \frac{p^*}{q}} \right)^{\frac{q}{p^*}} \right]^{\frac{1}{q}} 
    &= |\Omega|^{\frac{p^* - q}{p^* q}} \|u\|_{\Ell^{p^*}(\Omega)} \\
    &  \leq |\Omega|^{\frac{p^* - q}{p^* q}} C_1 C_2 \, \|u\|_{\WW^{1,p}(\Omega)}.\nonumber\qedhere
  \end{align}
\end{proof}

For $\WW_0^{1,p}(\Omega)$, we get these embeddings without assumptions on $\partial\Omega$.

\begin{thm}[Embeddings for $\WW_0^{1,p}(\Omega), p < n$]
%  Let $\Omega \subset \R^n$ be a bounded domain and $p \in [1,n)$.
%  Then for any $q \in [1,p^*]$ there exists $C > 0$ depending only on $p$, $q$, $n$, and $\Omega$ such that 
%  \begin{equation}
%    \label{eq:gagliardoNirenbergBounded}
%    \|u\|_{\Ell^q(\Omega)} \leq C \, \|\nabla u\|_{\Ell^p(\Omega)} \quad\text{for all } u \in \WW_0^{1,p}(\Omega).
%  \end{equation}
%  In particular, $\WW_0^{1,p}(\Omega)$ is continuously embedded into $\Ell^q(\Omega)$.
  Let $\Omega \subset \R^n$ be a bounded domain and $p \in [1,n)$.
    Then $\WW_0^{1,p}(\Omega)$ is continuously embedded into $\Ell^q(\Omega)$ for all $q \in [1,p^*]$.
    More precisely, for any $q \in [1,p^*]$ there is $C > 0$ depending on $p$, $q$, $n$, and $\Omega$ such that
    \begin{equation}
      \label{eq:gagliardoNirenbergBounded}
      \|u\|_{\Ell^q(\Omega)} \leq C \, \|\nabla u\|_{\Ell^p(\Omega)} \quad\text{for all } u \in \WW_0^{1,p}(\Omega).
    \end{equation}
\end{thm}

\begin{proof}
  Since $u \in \WW_0^{1,p}(\Omega)$, there exist $u_m \in \CC_0^\infty(\Omega)$ such that $u_m \to u$ in $\WW^{1,p}(\Omega)$.
  We extend $u_m$ by $0$ on $\R^n\setminus \Omega$ and have $u_m \in \CC_0^\infty(\R^n)$ so that $u_m$ satisfies \eqref{eq:gagliardoNirenbergSobolevIneq} for all $m \in \N$.
  In particular, $\|u_m - u_j\|_{\Ell^{p^*}(\R^n)} \leq C \, \| \nabla u_m - \nabla u_j\|_{\Ell^p(\R^n)}$ for all $m,j$ so that $(u_m)_m$ is a Cauchy sequence in $\Ell^{p^*}(\Omega)$ with limit $v$.
  As $u_{m_j} \to u$ a.e. in $\Omega$, we conclude that $v = u$, $u_m \to u$ in $\Ell^{p^*}(\Omega)$, and 
  $$
  \|u\|_{\Ell^{p^*}(\Omega)}
  = \lim_{m \to \infty} \| u_m \|_{\Ell^{p^*}(\Omega)}
  \leq C  \lim_{m \to \infty} \| \nabla u_m\|_{\Ell^p(\Omega)}
  = C \, \| \nabla u\|_{\Ell^p(\Omega)}
  $$
  with $C$ from \eqref{eq:gagliardoNirenbergSobolevIneq}.
  This shows \eqref{eq:gagliardoNirenbergBounded} for $q = p^*$.
  For $q \in [1,p^*)$, we have $\|u\|_{\Ell^q(\Omega)} \leq |\Omega|^{\frac{p^* - q}{p^* q}} \|u\|_{\Ell^{p^*}(\Omega)}$ (see \eqref{eq:embeddingpltn}) and the claim follows.
\end{proof}

As $p^* = \frac{np}{n - p} > \frac{np}{n} = p$, we may choose $q = p$ in \eqref{eq:gagliardoNirenbergBounded} and have  the following Corollary.

\begin{cor}[Poincar\'e-inequality]
  \label{cor:poincare}
  Let $\Omega \subset \R^n$ be a bounded domain and $p \in [1,\infty]$. 
  Then we have the Poincar\'e-inequality
  \begin{equation}
    \label{eq:poincare}
    \|u\|_{\Ell^p(\Omega)} \leq C \, \|\nabla u\|_{\Ell^p(\Omega)} \quad\text{for all } \WW_0^{1,p}(\Omega),
  \end{equation}
  where $C > 0$ only depends on $p$, $n$, and $\Omega$.

  In particular, the norm $\|\nabla u\|_{\Ell^p(\Omega)}$ is equivalent to $\|u\|_{\WW^{1,p}(\Omega)}$ in $\WW_0^{1,p}(\Omega)$.
\end{cor}

\begin{proof}
  For $p \in [1,n)$, \eqref{eq:poincare} immediately follows from \eqref{eq:gagliardoNirenbergBounded}. 
  
  For fixed $p \in [n, \infty)$ there is $\tilde p \in [1,n)$ such that $\tilde p^* = \frac{n \tilde p}{n - \tilde p} > p$ since $\tilde p^* \to \infty$ as $\tilde p \uparrow n$.
    Hence, as $\tilde p < n \leq p$, we have by \eqref{eq:gagliardoNirenbergBounded} (with $p = \tilde p$ and $q \coloneqq \tilde p^*$)
    \begin{align}
      \label{eq:gradientEstimatePoincare}
      \begin{split}
      \|u\|_{\Ell^p(\Omega)}
      \leq |\Omega|^{\frac{\tilde p^* - p}{\tilde p^* p}} \|u\|_{\Ell^{\tilde p^*}(\Omega)}
      &\overset{\eqref{eq:gagliardoNirenbergBounded}}{\leq} |\Omega|^{\frac{\tilde p^* - p}{\tilde p^* p}} C \, \|\nabla u\|_{\Ell^{\tilde p}(\Omega)} \\
        &\hspace{0.5em}\leq \hspace{0.3em}|\Omega|^{\frac{\tilde p^* - p}{\tilde p^* p} + \frac{p - \tilde p}{p \tilde p}} C \, \|\nabla u\|_{\Ell^{p}(\Omega)} \quad\text{for all } u \in \WW_0^{1,p}(\Omega).
      \end{split}
    \end{align}
%    \begin{equation}
%      \|u\|_{\Ell^p(\Omega)} 
%      \leq C \, \|\nabla u\|_{\Ell^{\tilde p}(\Omega)}
%      \leq C \, |\Omega|^{\frac{p - \tilde p}{p \tilde p}} \|\nabla u\|_{\Ell^p(\Omega)} \quad\text{for all } u \in \WW_0^{1,p}(\Omega).
%    \end{equation}
    Here we used that Hölder's inequality implies (see \eqref{eq:embeddingpltn}) $\|v\|_{\Ell^{\tilde p}(\Omega)} \leq |\Omega|^{\frac{p - \tilde p}{p \tilde p}} \|v\|_{\Ell^p(\Omega)}$ for all $v \in \Ell^p(\Omega)$ so that $u \in \WW^{1,\tilde p}(\Omega)$ and, since some $(u_m)_{m \in \N} \subset \CC_0^\infty(\Omega)$ satisfies $u_m \to u$ in $\WW^{1,p}(\Omega)$ it therefore also satisfies $u_m \to u$ in $\WW^{1,\tilde p}(\Omega)$.
%    Hence, $u \in \WW_0^{1,\tilde p}(\Omega)$ and the application of \eqref{eq:gagliardoNirenbergBounded} in \eqref{eq:gradientEstimatePoincare} is justified.

    For $p = \infty$ and $u \in \WW_0^{1,\infty}(\Omega)$, there is $(u_m)_{m \in \N} \subset \CC_0^\infty(\Omega)$ such that $u_m \to u$ in $\WW^{1,\infty}(\Omega)$.
    Since there exists $b > 0$ such that $\Omega \subset (-b,b)^n$, for each $m \in \N$ we have
    $$
    |u_m(x)| 
    = | u_m(x',x_n)|
    = \Big|\underbrace{u_m(x', -b)}_{= 0} + \int_{-b}^{x_n} (u_m)_{x_n} (x',t)\d t \,\Big|
    \leq 2b \, \|\nabla u_m \|_{\Ell^\infty(\Omega)}.
    $$
    Hence, $\|u_m\|_{\Ell^\infty(\Omega)} \leq 2b \, \|\nabla u_m\|_{\Ell^\infty(\Omega)}$ for all $m \in \N$ and taking $m \to \infty$ we conclude that \eqref{eq:poincare} holds for $u$ with $C \coloneqq 2b$ depending only on $\Omega$.
\end{proof}

Next, let us assume $p = n$.
As $p^* \to \infty$ for $p \uparrow n$, we might expect $\WW^{1,n}(\Omega) \subset \Ell^\infty(\Omega)$, but this is false in general for $n \geq 2$.

\begin{prop}[Embeddings for $\WW^{1,n}(\Omega)$]
  \label{prop:embeddingspeqn}
  Let $\Omega \subset \R^n$ be a bounded domain and $q \in [1,\infty)$.
    \begin{enumerate}[a)]
      \item If $\partial\Omega \in \CC^1$, then $\WW^{1,n}(\Omega)$ is continuously embedded into $\Ell^q(\Omega)$ and, with $C > 0$ depending on $q$, $n$, $\Omega$, we have
        %More precisely, there exists $C > 0$ depending on $q$, $n$, and $\Omega$ such that
        \begin{alignat*}{2}
          \|u\|_{\Ell^q(\Omega)} &\leq C \, \|u\|_{\WW^{1,n}(\Omega)} &&\quad\text{for all } u \in \WW^{1,n}(\Omega).
      \intertext{\item $\WW_0^{1,n}(\Omega)$ is continuously embedded to $\Ell^q(\Omega)$ and, with $C > 0$ depending on $q$, $n$, $\Omega$, we have}
        \| u\|_{\Ell^q(\Omega)} &\leq C \, \|\nabla u\|_{\Ell^n(\Omega)} &&\quad\text{for all } \WW_0^{1,n}(\Omega).
    \intertext{\item If $n = 1$ and $\Omega = (a,b) \subset \R$ with $-\infty < a < b < + \infty$, then $\WW^{1,1}((a,b)) \subset \Ell^\infty((a,b))$ and there is $C > 0$ depending on $b - a$ such that}
      \|u\|_{\Ell^\infty((a,b))} &\leq C \, \|u\|_{\WW^{1,1}((a,b))} &&\quad\text{for all } \WW^{1,1}((a,b))
        \intertext{and}
          \|u\|_{\Ell^\infty((a,b))} &\leq \|u'\|_{\Ell^1((a,b))} &&\quad\text{for all } \WW_0^{1,1}((a,b)).
      \end{alignat*}
    \end{enumerate}
\end{prop}

\begin{proof}
  Exercise.
\end{proof}

\begin{rem}
  If $n = 1$ and $\Omega = (a,b)$ is bounded, in fact $\WW^{1,1}((a,b))$ and $\WW_0^{1,1}((a,b))$ are both continuously embedded to $\CC^0([a,b])$.
  This can be proved with Proposition \ref{prop:embeddingspeqn} c) (with the choice of a continuous representative of $u \in \WW^{1,1}((a,b))$ ).
  For $n \geq 2$, $\WW^{1,n}(\BB_1(0)) \not\subset \Ell^\infty(\BB_1(0))$, as e.g. $u(x) = \ln(\ln(1 + \frac{1}{|x|}))$ satisfies $u \in \WW^{1,n}(\BB_1(0))$ and $u \notin \Ell^\infty(\BB_1(0))$ (see Exercise).
\end{rem}

\section{Embeddings into Hölder Spaces}
\label{sec:hoelderEmbedding}

\setcounter{equation}{11}

If $\Omega \subset \R^n$ is open and $u \colon \Omega \to \R$ satisfies
\begin{equation}
  \label{eq:hoelderCond}
  |u(x) - u(y)| \leq M\, |x - y|^\gamma \quad\text{for all } x, y \in \Omega
\end{equation}
with some $M > 0$ and $\gamma \in (0,1)$, $u$ is called \emph{Hölder continuous with exponent $\gamma$}.
Note that $\gamma = 1$ corresponds to \emph{Lipschitz continuous} functions.
We define the corresponding function spaces.

\begin{defn}
  Let $\Omega \subset \R^n$ be open.
  \begin{enumerate}[a)]
    \item For $u \in \CC_b^0(\overline\Omega) \coloneqq \CC^0(\overline\Omega) \cap \Ell^\infty(\Omega)$, we define $\|u\|_{\CC^0(\overline\Omega)} \coloneqq \sup_{x \in \Omega} |u(x)|$.
      For $\Omega$ bounded, we have $\CC_b^0(\overline\Omega) = \CC^0(\overline\Omega)$.

    \item For $\gamma \in (0,1]$ and $u \colon \overline\Omega \to \R$, the \emph{$\gamma$-Hölder seminorm} is defined as
    $$
    [u]_{\CC^{0,\gamma}(\overline\Omega)} \coloneqq \sup_{x,y \in \Omega, x \neq y} \frac{|u(x)  - u(y)|}{|x - y|^\gamma}
    $$
    and the \emph{$\gamma$-Hölder norm} is defined as 
    $$
    \|u\|_{\CC^{0,\gamma}(\overline\Omega)} \coloneqq \| u\|_{\CC^0(\overline\Omega)} + [u]_{\CC^{0,\gamma}(\overline\Omega)}.
    $$

    \item For $k \in \N_0$ and $\gamma \in (0,1]$, we define the \emph{Hölder space}
      $$
      \CC^{k,\gamma}(\overline\Omega) \coloneqq \{ u \in \CC^k(\overline\Omega) \colon \|u\|_{\CC^{k,\gamma}(\overline\Omega)} < \infty \},
      $$
      where
      $$
      \| u\|_{\CC^{k,\gamma}(\overline\Omega)} \coloneqq \sum_{|\alpha| \leq k} \|\DD^\alpha u\|_{\CC^0(\overline\Omega)} + \sum_{|\alpha| = k} [\DD^\alpha u]_{\CC^{0,\gamma}(\overline\Omega)}.
      $$
      (In case of $\Omega$ unbounded, one also writes $\CC_b^{k,\gamma}(\overline\Omega)$ instead of $\CC^{k,\gamma}(\overline\Omega)$ to indicate that the functions are in $\CC_b^k(\overline\Omega) = \{ u \in \CC^k(\overline\Omega) \colon \DD^\alpha u \in \Ell^\infty(\Omega), \text{ for all } |\alpha| \leq k \}$)
  \end{enumerate}
\end{defn}

The spaces $\CC^{k,\gamma}(\overline\Omega)$ have a good mathematical structure and are also Banach spaces.

\begin{prop}
  Let $\Omega \subset \R^n$ be open, $k \in \N_0$, and $\gamma \in (0,1]$.
  Then $\CC^{k,\gamma}(\overline\Omega)$ is a Banach space.
\end{prop}

\begin{proof}
  It is not difficult to verify that $\| \cdot \|_{\CC^{k,\gamma}(\overline\Omega)}$ is a norm on $\CC^{k,\gamma}(\overline\Omega)$.
  To show that $\CC^{k,\gamma}(\overline\Omega)$ is complete, assume that $(u_m)_{m \in \N} \subset \CC^{k,\gamma}(\overline\Omega)$ is a Cauchy sequence.
  Then it is also a Cauchy sequence in $\CC_b^k(\overline\Omega)$ and hence $u_m \to u$ as $m \to \infty$ in $\CC_b^k(\overline\Omega)$ with some $u \in \CC_b^k(\overline\Omega)$.
  As $\DD^\alpha u_m$ satisfy \eqref{eq:hoelderCond} for all $m \in \N$ with $M \coloneqq \sup_{m \in \N} \| u_m\|_{\CC^{k,\gamma}(\overline\Omega)}$ for any $|\alpha| = k$, taking $m \to \infty$, we conclude that $\DD^\alpha u$ also satisfies \eqref{eq:hoelderCond} with the same $M$.
  Hence, $u \in \CC^{k,\gamma}(\overline\Omega)$.
\end{proof}

We next study the case $u \in \WW^{1,p}(\Omega)$ with $p \in (n,\infty)$ and show that $u$ is Hölder continuous after possibly being redefined on a set of measure zero.
Again an inequality for $\WW^{1,p}(\R^n)$ functions will be the basis.

\begin{thm}[Morrey's inequality]
Assume that $p \in (n,\infty]$ and $\gamma \coloneqq 1 - \frac{n}{p}$ (with $\gamma = 1$ in case of $p = \infty$).
Then there is $C > 0$ depending only on $p$ and $n$ such that
\begin{equation}
  \label{eq:morrey}
  \|u\|_{\CC^{0,\gamma}(\R^n)} \leq C \, \|u\|_{\WW^{1,p}(\R^n)} \quad\text{for all } u \in \CC^1(\R^n) \cap \WW^{1,p}(\R^n).
\end{equation}
\end{thm}

\begin{proof}
  \begin{enumerate}[i)]
    \item The case $p = \infty$ is immediate.
      For $u \in \CC^1(\R^n) \cap \WW^{1,\infty}(\R^n)$, we have
      $$
      |u(x) - u(y)| \leq \| \nabla u\|_{\Ell^\infty(\R^n)} | x - y| \quad\text{for all } x, y \in \R^n
      $$
      by the mean value theorem.
      Hence,
      $$
      \|u\|_{\CC^{0,1}(\R^n)}
      = \| u\|_{\CC^0(\R^n)} + [u ]_{\CC^{0,1}(\R^n)}
      \leq \|u\|_{\Ell^\infty(\R^n)} + \|\nabla u\|_{\Ell^\infty(\R^n)}
      \leq \| u\|_{\WW^{1,\infty}(\R^n)}.
      $$

    \item Let $u \in \CC^1(\R^n)$, $x \in \R^n$, $r > 0$,  and $\BB_r(x) \subset \R^n$ a ball.
      We want to estimate the difference between $u(x)$ and the mean of $u$ on $\BB_r(x)$
      such that
      \begin{equation}
        \label{eq:meanEstimateByGradient}
        \begin{alignedat}{2}
        \Big| u(x) - \frac{1}{|\BB_r(x)|} \int_{\BB_r(x)} u(y) \d y \Big|
          &\leq \frac{1}{|\BB_r(x)|} &&\int_{\BB_r(x)} |u(y) - u(x)| \d y\\
          &\leq \quad C_1 &&\int_{\BB_r(x)} \frac{|\nabla u(y)|}{|y - x|^{n - 1}} \d y
      \end{alignedat}
      \end{equation}
      holds for some $C_1 > 0$ depending only on $n$.
      In order to prove the second inequality, we fix $w \in \partial\BB_1(0)$.
      Then for $s \in (0,r)$ we have
      $$
      |u(x + sw) - u(x)|
      = \Big| \int_0^s \frac{\d{} }{\d t} u(x + tw) \d t \Big|
      = \Big| \int_0^s \nabla u(x + tw) \cdot w \d t  \Big|
      \overset{|w| = 1}{\leq} \int_0^s |\nabla u(x + tw)| \d t
      $$
      Hence, integrating and using polar coordinates (see \ref{sec:polar}), we have
      \begin{align*}
        \int_{\partial\BB_1(0)} | u(x + sw) - u(x)| \d \sigma(w)
        &\overset{\text{Fubini}}{\leq} \int_0^s \int_{\partial\BB_1(0)} |\nabla u(x + t w)| \d\sigma(w) \d t \\
        &\;\;\,= \;\;\int_0^s t^{n - 1} \int_{\partial\BB_1(0)} \frac{|\nabla u(x + tw)|}{t^{n - 1}} \d \sigma(w) \d t \\
        &\overset{|w| = 1}{=} \int_0^s t^{n - 1} \int_{\partial\BB_1(0)} \frac{|\nabla u(x + tw)|}{|x - (x + tw)|^{n - 1}} \d \sigma(w) \d t \\
        \intertext{and, by using \ref{sec:polar} with $x_0 \coloneqq x$ and applying the transformation $y = x + tw$, we get}
        %\intertext{and, by using \ref{sec:polar}, we get}
        %&\;\;\,= \;\;\int_0^s \int_{\BB_t(x)} \frac{|\nabla u(y)|}{|x - y|^{n - 1}} \d \sigma(y) \d t \\
        %&\;\;\,= \;\;\int_0^s \int_{\partial \BB_t(x)} \frac{|\nabla u(y)|}{|x - y|^{n - 1}} \d\sigma(y) \d t \\
        &\;\;\,= \,\int_{\BB_s(x)} \frac{|\nabla u(y)|}{|x - y|^{n - 1}} \d y 
        \overset{s < r}{\leq} \int_{\BB_r(x)} \frac{|\nabla u(y)|}{|x - y|^{n - 1}} \d y. \\
        \intertext{Multiplying by $s^{n - 1}$ and integrating, we obtain from \ref{sec:polar}}
      \int_{\BB_r(x)} |u(y) - u(x)| \d y
        &\;\;\,\overset{\ref{sec:polar}}{=} \int_0^r s^{n - 1} \int_{\partial\BB_1(0)} |u(x + sw) - u(x)| \d \sigma(w) \d s \\
        &\;\;\;\leq \frac{r^n}{n} \int_{\BB_r(x)} \frac{|\nabla u(y)|}{|x - y|^{n - 1}} \d y.
      \end{align*}
      Dividing by $|\BB_r(x)| = \omega_n r^n$, we obtain \eqref{eq:meanEstimateByGradient} for $C_1 \coloneqq \frac{1}{\omega_n n}$.

    \item Now assume that $u \in \CC^1(\R^n) \cap \WW^{1,p}(\R^n)$ with $p \in (n,\infty)$.
      Since the choice of $p$ implies $\frac{n - 1}{n} = 1 - \frac{1}{n} < \frac{p -1}{p}$, we have $ \frac{(n - 1)p}{p - 1} < 1 \leq n - 1$ and
      $$
      \int_{\BB_1(x)} |x - y|^{-\frac{(n - 1)p}{p - 1}} \d y
      \overset{\ref{sec:polar}}{=} \omega_n \int_0^1 r^{-\frac{(n - 1)p}{p - 1}} \cdot r^{n - 1}\d r = C_2(n,p) < \infty \quad\text{for all } x \in \R^n.
      $$
      Hence, we obtain for $x \in \R^n$ with $q = \frac{p}{p - 1}$ ($\frac{1}{p} + \frac{1}{q} = 1$)
      \begin{align*}
        |u(x)|
        &= \frac{1}{|\BB_1(x)|} \int_{\BB_1(x)} |u(x)|\d y  \\
        &\leq \frac{1}{|\BB_1(x)|} \Big( \int_{\BB_1(x)} |u(x) - u(y)| \d y + \int_{\BB_1(x)} |u(y)| \d y \Big),\\
        \intertext{which by \eqref{eq:meanEstimateByGradient} and the Hölder inequality can be estimated as}
        &\leq C_1 \int_{\BB_1(x)} \frac{|\nabla u(y)|}{|x - y|^{n - 1}} \d y \,+\, \frac{1}{|\BB_1(x)|} \Big( \int_{\BB_1(x)} 1^q \d y \Big)^{\frac{1}{q}} \Big( \int_{\BB_1(x)} |u(y)|^p \d y \Big)^{\frac{1}{p}} \\
        &\hspace{-0.8em}\overset{\text{Hölder}}{\leq} C_1 \, \Big( \int_{\BB_1(x)} |\nabla u(y)|^p \d y \Big)^{\frac{1}{p}} \Big( \int_{\BB_1(x)} |x - y|^{-\frac{(n -1)p}{p - 1}} \d y \Big)^{\frac{p - 1}{p}} \,+\, |\BB_1(x)|^{-\frac{1}{p}} \|u\|_{\Ell^p(\R^n)} \\
        &\leq C_1\, C_2(n,p) \, \|\nabla u\|_{\Ell^p(\R^n)} + |\BB_1(x)|^{-\frac{1}{p}} \|u\|_{\Ell^p(\R^n)} \\
        &\leq C_3 \, \|u\|_{\WW^{1,p}(\R^n)},
      \end{align*}
      where $C_3$ only depends on $p$ and $n$.
      Hence,
      \begin{equation}
        \label{eq:supEstimate}
        \|u\|_{\CC^0(\R^n)} = \sup_{x \in \R^n} |u(x)| \leq C_3\, \|u\|_{\WW^{1,p}(\R^n)}.
      \end{equation}

    \item Let $x, y \in \R^n$ with $r \coloneqq |x - y| > 0$.
      Defining $W \coloneqq \BB_r(x) \cap \BB_r(y)$, we get
      \begin{align*}
        |u(x) - u(y)|
        &= \frac{1}{|W|} \int_W |u(x) - u(y)| \d z \\
        &\leq \frac{1}{|W|} \Big(\int_W |u(x) - u(z)| \d z + \int_W |u(y) - u(z)| \d z \Big) \\
        \intertext{and, since $\BB_{\frac{r}{2}(\frac{x+y}{2})} \subset W$, we get}
        &\leq \frac{1}{|\BB_{\frac{r}{2}}(\frac{x + y}{2})|} \Big( \int_{\BB_r(x)} |u(x) - u(z)|\d z + \int_{\BB_r(y)} |u(y) - u(z)| \d z \Big) \\
        &\leq 2^n \Big( \frac{1}{|\BB_r(x)|} \int_{\BB_r(x)} |u(x) - u(z)| \d z + \frac{1}{|\BB_r(y)|} \int_{\BB_r(y)} |u(y) - u(z)| \d z \Big), \\
        \intertext{which by \eqref{eq:meanEstimateByGradient} and the Hölder inequality can be estimated as}
        &\leq 2^n C_1 \bigg[ \Big( \int_{\BB_r(x)} |\nabla u(z)|^p \d z \Big)^{\frac{1}{p}} \Big( \int_{\BB_r(x)} |x - z|^{-(n - 1)\frac{p}{p - 1}} \d z \Big)^{\frac{p - 1}{p}} \\
        &\hspace{2.8em} + \Big( \int_{\BB_r(y)} |\nabla u(z)|^p \d z \Big)^{\frac{1}{p}} \Big( \int_{\BB_r(y)} |y - z|^{-(n - 1)\frac{p}{p - 1}} \d z \Big)^{\frac{p - 1}{p}} \bigg] \\
        &\overset{\ref{sec:polar}}{\leq} 2 \cdot 2^n C_1 \|\nabla u\|_{\Ell^p(\R^n)} \Big( \omega_n \int_0^r s^{\frac{-(n - 1)p}{p - 1}} s^{n - 1} \d s \Big)^{\frac{p - 1}{p}} \\
        &\leq C_4 \, \Big( r^{n - \frac{(n - 1)p}{p - 1}} \Big)^{\frac{p - 1}{p}} \|\nabla u\|_{\Ell^p(\R^n)} 
        = C_4 \, r^{1 - \frac{n}{p}} \|\nabla u\|_{\Ell^p(\R^n)}
        \intertext{with $C_4 > 0$ only depending on $n$ and $p$.
        Hence,}
      [u]_{\CC^{0,\gamma}(\R^n)}
        &= [u]_{\CC^{0,1 - \frac{n}{p}}(\R^n)}
      = \sup_{x,y \in \R^n, x \neq y} \frac{|u(x) - u(y)|}{|x - y|^{1 - \frac{n}{p}}}
      \leq C_4 \,  \|\nabla u\|_{\Ell^p(\R^n)}.
      \end{align*}
      Combining this estimate with \eqref{eq:supEstimate}, we obtain \eqref{eq:morrey} for $p \in (n,\infty)$. \qedhere
  \end{enumerate}
\end{proof}

We define a version of a function.

\begin{defn}
  We say that $u^* \colon U \to \R$ is a \emph{version of} the given function $u \colon U \to \R$ if $u = u^*$ a.e. in $U$.
\end{defn}

We next summarize embeddings of $\WW^{1,p}(\Omega)$ into $\CC^{0,\gamma}(\overline\Omega)$ for various $p$ and $\Omega$.

\begin{thm}[Embeddings of $\WW^{1,p}(\Omega)$ for $p \in (n,\infty\rbrack$]
  \label{thm:sumEmbeddingHoelder}
  Let $\Omega$ be a bounded domain, $p \in (n,\infty]$ and $\gamma = 1 - \frac{n}{p} \in (0,1]$ (with $\gamma = 1$ in case of $p = \infty$).
\begin{enumerate}[a)]
  \item $\WW^{1,p}(\R^n)$ is continuously embedded into $\CC^{0,\gamma}(\R^n)$ in the sense that for any $u \in \WW^{1,p}(\R^n)$ there is a version $u^* \in \CC^{0,\gamma}(\R^n)$ and
    \begin{align*}
    \|u^*\|_{\CC^{0,\gamma}(\R^n)} &\leq C \, \|u\|_{\WW^{1,p}(\R^n)},
    \intertext{ where $C > 0$ only depends on $p$ and $u$.
    \item If $\partial\Omega \in \CC^1$, then $\WW^{1,p}(\Omega)$ is continuously embedded into $\CC^{0,\gamma}(\overline\Omega)$ in the sense that for any $u \in \WW^{1,p}(\Omega)$ there is a version $u^* \in \CC^{0,\gamma}(\overline\Omega)$ and }
    \|u^*\|_{\CC^{0,\gamma}(\overline\Omega)} &\leq C \, \|u\|_{\WW^{1,p}(\Omega)},
    \intertext{where $C > 0$ depends on $p$, $n$, and $\Omega$.
    \item $\WW_0^{1,p}(\Omega)$ is continuously embedded into $\CC^{0,\gamma}(\overline\Omega)$ in the sense that for any $u \in \WW_0^{1,p}(\Omega)$ there is a version $u^* \in \CC^{0,\gamma}(\overline\Omega)$ and}
    \| u^* \|_{\CC^{0,\gamma}(\overline\Omega)} &\leq C \, \|\nabla u\|_{\Ell^p(\Omega)},
  \end{align*}
    where $C > 0$ depends on $p$, $n$, and $\Omega$.
\end{enumerate}
\end{thm}

\begin{rem}
      In view of Theorem \ref{thm:sumEmbeddingHoelder} b), for any bounded domain $\Omega \subset \R^n$ with $\partial\Omega \in \CC^1$ we may define the trace $\Tr \colon \WW^{1,\infty}(\Omega) \to \CC^0(\partial\Omega), \Tr(u) \coloneqq u^*|_{\partial\Omega}$ which particularly shows that any $u \in \WW_0^{1,\infty}(\Omega)$ satisfies $\Tr(u) = 0$.
      However, $u(x) \coloneqq 1 - |x| \in \WW^{1,\infty}(\BB_1(0))$ with $u = 0$ on $\partial\BB_1(0)$. (Hence, $\Tr(u) = 0$, but $u \notin \WW_0^{1,\infty}(\BB_1(0))$, as $\|\nabla u - \nabla \varphi\|_{\Ell^\infty(\BB_1(0))} \geq 0$ for all $\varphi \in \CC_0^\infty(\BB_1(0))$.)
\end{rem}

\begin{proof}[Proof of Theorem \ref{thm:sumEmbeddingHoelder}]
  \begin{enumerate}[i)]
    \item \emph{a) for $p \in (n,\infty)$}:
      For $u \in \WW^{1,p}(\R^n)$ there is $(u_m)_{m \in \N} \subset \CC^1(\R^n) \cap \WW^{1,p}(\R^n)$ such that $u_m \to u$ in $\WW^{1,p}(\R^n)$.
      By \eqref{eq:morrey}, $(u_m)_{m \in \N}$ is a Cauchy sequence in $\CC^{0,\gamma}(\R^n)$ and hence there is $u^* \in \CC^{0,\gamma}(\R^n)$ such that $u_m \to u^*$ in $\CC^{0,\gamma}(\R^n)$.
      As $u_{m_l} \to u$ a.e. in $\R^n$ as $l \to \infty$ for a subsequence, we have $u = u^*$ a.e. in $\R^n$ and 
      $$
      \|u^*\|_{\CC^{0,\gamma}(\R^n)}
      = \lim_{m \to \infty} \| u_m\|_{\CC^{0,\gamma}(\R^n)}
      \overset{\eqref{eq:morrey}}{\leq} C_1 \lim_{m \to \infty} \|u_m\|_{\WW^{1,p}(\R^n)}
      = C_1 \, \|u\|_{\WW^{1,p}(\R^n)}.
      $$

    \item \emph{b) for $p \in (n,\infty)$}:
      For $u \in \WW^{1,p}(\Omega)$ there is $E(u) \in \WW^{1,p}(\R^n)$ by Theorem \ref{thm:extension} which satisfies $(E(u))^*|_\Omega = u$ a.e. in $\Omega$ so that $(E(u))^*|_\Omega \eqqcolon u^*$ is a version of $u$ satisfying
      $$
      \|u^*\|_{\CC^{0,\gamma}(\overline\Omega)}
      \leq \| (E(u))^*\|_{\CC^{0,\gamma}(\R^n)}
      \overset{\text{i)}}{\leq} C_1 \, \|E(u)\|_{\WW^{1,p}(\R^n)}
      \overset{\text{Thm. \ref{thm:extension}}}{\leq} C_1 C_2 \, \|u\|_{\WW^{1,p}(\Omega)},
      $$
      where $C_2 > 0$ is the constant from Theorem \ref{thm:extension} depending on $p$, $n$, $\Omega$.

    \item \emph{b) for $p = \infty$}:
      Let $u \in \WW^{1,\infty}(\Omega)$.
      Then $u \in \WW^{1,\tilde p}(\Omega)$ for some $\tilde p \in (n, \infty)$ as $\Omega$ is bounded and by ii) there is a version $u^*$ of $u$ with $u^* \in \CC^{0,\tilde\gamma}(\overline\Omega)$, where $\tilde\gamma \coloneqq 1 - \frac{n}{\tilde p} \in (0,1)$.
      We fix $x,y \in \Omega$ with $x \neq y$.
      As $\partial\Omega \in \CC^1$ there is a domain $V \Subset \Omega$ with $\partial V \in \CC^1$ and $x,y \in V$.
    By Theorem \ref{thm:interiorApproximation} $u_\varepsilon \coloneqq \eta_\varepsilon \ast u \in \CC^\infty(\Omega)$ converges to $u^*$ in $\WW^{1,\tilde p}(V)$, hence by ii) $u_\varepsilon \to u^*$ in $\CC^{0,\tilde\gamma}(\overline V)$ so that $u_\varepsilon \to u^*$ uniformly on $\overline V$ as $\varepsilon \downarrow 0$.
    Furthermore, for $\varepsilon > 0$ small enough such that $V \subset \Omega_\varepsilon$, we have by Theorem \ref{thm:interiorApproximation}
    $$
    |\nabla u_\varepsilon(z)|
    = \Big|\int_\Omega \eta_\varepsilon (z - \tilde y) \nabla u(\tilde y) \d{\tilde y} \Big|
    \leq \| \nabla u\|_{\Ell^\infty(\Omega)} \underbrace{\int_{\R^n} \eta_\varepsilon(z - \tilde y) \d{\tilde y}}_{=1}
    = \|\nabla u\|_{\Ell^\infty(\Omega)}.
    $$
      Hence, the mean value theorem (MVT) implies for $\Omega$ convex, as we may choose $V$ to be convex,
      \begin{align*}
    |u^*(x) - u^*(y)|
        &= \lim_{\varepsilon \downarrow 0} |u_\varepsilon(x) - u_\varepsilon(y)|
      \overset{\text{MVT}}{\leq} \liminf_{\varepsilon \downarrow 0} \|\nabla u_\varepsilon\|_{\Ell^\infty(V)} |x - y|
    \leq \|\nabla u\|_{\Ell^\infty(\Omega)} |x - y|.
        \intertext{
    Hence, for $\Omega$ convex, we have
  }
    \|u^*\|_{\CC^{0,1}(\overline\Omega)}
        &= \|u^*\|_{\CC^0(\overline\Omega)} + [u^*]_{\CC^{0,1}(\overline\Omega)}
      \leq \|u\|_{\Ell^\infty(\Omega)} + \|\nabla u\|_{\Ell^\infty(\Omega)}
    \leq \|u\|_{\WW^{1,\infty}(\Omega)}.
      \end{align*}

  \item \emph{a) for $p = \infty$}:
    Let $u \in \WW^{1,\infty}(\R^n)$ and $\Omega_m \coloneqq \BB_m(0), m \in \N$.
    Then $u \in \WW^{1,\infty}(\Omega_m)$ for any $m \in \N$ so that iii) implies the existence of a version $u^*$ of $u$ such that 
    $$
    \|u^*\|_{\CC^{0,1}(\overline\Omega_m)}
    \leq \|u\|_{\WW^{1,\infty}(\Omega_m)} \leq \|u\|_{\WW^{1,\infty}(\R^n)} \quad\text{for all } m \in \N.
    $$
    As $\|u^*\|_{\CC^{0,1}(\R^n)} = \sup_{m \in \N} \|u^*\|_{\CC^{0,1}(\overline\Omega_m)}$, the claim is proved.

  \item \emph{c) for $p \in (n,\infty]$}:
    For $u \in \WW_0^{1,p}(\Omega)$ there is $(u_m)_{m \in \N} \subset \CC_0^\infty(\Omega)$ with $u_m \to u$ in $\WW^{1,p}(\Omega)$.
    Extending $u_m$ by $0$ on $\R^n \setminus \Omega$, we have $u_m \in \CC_0^\infty(\R^n)$ and by a) there exists a function $v \in \CC^{0,\gamma}(\R^n) \cap \WW^{1,p}(\R^n)$ such that $u_m \to v$ in $\CC^{0,\gamma}(\R^n)$ and in $\WW^{1,p}(\R^n)$.
    As $v = 0$ in $\R^n \setminus \Omega$ we conclude with $u^* \coloneqq v|_{\overline\Omega}$ and Poincar\'e's inequality (Corollary \ref{cor:poincare})
    $$
    \|u^*\|_{\CC^{0,\gamma}(\overline\Omega)}
    = \|v\|_{\CC^{0,\gamma}(\R^n)}
    \overset{\text{a)}}{\leq} \tilde C_4 \, \|v\|_{\WW^{1,p}(\R^n)}
    = \tilde C_4 \, \|u\|_{\WW^{1,p}(\Omega)}
    \overset{\text{Poincar\'e}}{\leq} C_4 \, \|\nabla u\|_{\Ell^p(\Omega)}
    $$
    as $u = v$ a.e. in $\Omega$.

    \item \emph{End of part iii) for $\Omega$ non-convex}:
      With the notation from Definition \ref{defn:boundarySpace} and $\Phi_i, \Psi_i$ from Lemma \ref{lem:flattening} (with $\gamma = \gamma_i$), $i = 1,\dots,N$, we may choose $U_i$ small enough such that 
      $$\Phi_i(\Omega \cap U_i) \subset \BB_i^+ \subset \Phi_i(\Omega)\quad\text{for all } i \in \{1,\dots,N\}$$ and some balls $\BB_i \coloneqq B_{s_i}(x^i)$.
      As $\overline\Omega$ is compact, there is $\delta > 0$ such that for $x,y \in \Omega$ with $|x - y| < \delta$, either $x,y \in \overline{\BB_\delta(x)} \subset \Omega$ or $x, y \in \Omega \cap U_i$ for some $i \in \{1,\dots,N\}$.
      Then for $x,y \in \Omega$ we distinguish three cases:
      \begin{enumerate}[I)]
        \item \emph{$|x -y| < \delta$ and $x,y \in \overline{\BB_\delta(x)}$}:
          Then we may choose (in iii)) $V = \BB_\delta(x)$.
          As $V$ is convex, the mean value theorem implies 
          $$
          |u_\varepsilon(x) - u_\varepsilon(y)| 
          \leq \| \nabla u_\varepsilon\|_{\Ell^\infty(V)} |x - y|
          \leq \| \nabla u\|_{\Ell^\infty(\Omega)} |x - y|
          $$
          as in iii).

        \item \emph{$|x - y| < \delta$ and $x,y \in \Omega \cap U_i$}:
          We define the convex hull $$W \coloneqq \{ (1 - t)\, \Phi_i(x) + t \,\Phi_i(y) \colon t \in [0,1]\} \subset \BB_i^+$$ and we may choose $V$ in iii) such that $\Phi_i^{-1}(W) \subset V$.
          Then
          \begin{align*}
            |u_\varepsilon(x) - u_\varepsilon(y)|
            &= |u_\varepsilon(\Psi_i(\Phi_i(x))) - u_\varepsilon(\Psi(\Phi_i(y)))| \\
            &= \Big| \int_0^1 \frac{\d{} }{\d t} \Big[ (u_\varepsilon \circ \Psi_i)((1 - t)\Phi_i(x) + t\Phi_i(y)) \Big] \d t \Big| \\
            &\leq \| \nabla(u_\varepsilon \circ \Psi_i)\|_{\Ell^\infty(W)} \cdot |\Phi_i(x) - \Phi_i(y)| \\
            &\hspace{-0.5em}\overset{\text{MVT}}{\leq} \| \nabla u_\varepsilon \|_{\Ell^\infty(V)} \cdot \|\DD \Psi_i\|_{\Ell^\infty(W)} \cdot \|\DD \Phi_i\|_{\Ell^\infty(\overline \BB)} \cdot |x - y|, \\
            \intertext{where we used the chain rule and chose a ball $\overline\BB$ such that $\overline \Omega \Subset \BB$ which by iii) yields}
            &\leq \tilde C_3 \, \|\nabla u\|_{\Ell^\infty(\Omega)} | x - y |,
          \end{align*}
          where $\tilde C_3 \coloneqq \max_{1\leq i \lneq N} \|\DD \Psi_i \|_{\Ell^\infty(\Phi_i(\Omega))} \cdot \| \DD \Phi_i \|_{\Ell^\infty(\overline \BB)}$.

        \item $|x - y| \geq \delta$:
          Then 
          $|u^*(x) - u^*(y)| \leq 2 \, \|u^*\|_{\CC^0(\overline\Omega)} \cdot \frac{1}{\delta}\, |x - y|$.
      \end{enumerate}
      Altogether, letting $\varepsilon \downarrow 0$, we have 
      $$
      \|u^*\|_{\CC^{0,1}(\overline\Omega)} 
      \leq \|u\|_{\Ell^\infty(\Omega)} + \Big( \, \frac{2}{\delta}\, \|u\|_{\Ell^\infty(\Omega)} + (1 + \tilde C_3 )\, \|\nabla u\|_{\Ell^\infty(\Omega)} \Big) 
      \leq C_3 \, \|u\|_{\WW^{1,\infty}(\Omega)}.\qedhere$$ 
  \end{enumerate}
\end{proof}

\section{General Embeddings and Sobolev Inequalities}

Using the estimates from Section \ref{sec:lpEmbedding} and Section \ref{sec:hoelderEmbedding}, we get more complicated estimates and embeddings for $\WW^{k,p}(\Omega)$ with $k \in \N$.
We set
$$
\WW^{0,q} \coloneqq \Ell^q(\Omega)
$$
and let
$$
[x] \coloneqq \max \{ z \in \Z \colon z \leq x\}
$$
for $x \in \R$ denote the \emph{floor function}.

\begin{thm}[Embeddings for $\WW^{k,p}(\Omega)$]
  Let $\Omega \subset \R^n$ be a bounded domain with $\partial\Omega \in \CC^1$, $p,q \in [1,\infty]$, and $k \in \N, l \in \N_0$ with $k \geq l$.
  \begin{enumerate}[a)]
    \item If $k - \frac{n}{p} < l$ and $k - \frac{n}{p} \geq l - \frac{n}{q}$, then $\WW^{k,p}(\Omega)$ is continuously embedded into $\WW^{l,q}(\Omega)$ and there is $C > 0$ depending only on $p$, $q$, $k$, $l$, $n$, and $\Omega$ such that
      $$
      \|u\|_{\WW^{l,q}(\Omega)} \leq C \, \|u\|_{\WW^{k,p}(\Omega)} \quad\text{for all } u \in \WW^{k,p}(\Omega).
      $$

    \item If $k - \frac{n}{p} = l$ and $q \in [1,\infty)$ (i.e. $k - \frac{n}{p} > l - \frac{n}{q}$), then $\WW^{k,p}(\Omega)$ is continuously embedded into $\WW^{l,q}(\Omega)$ and there is $C > 0$ depending on $p$, $q$, $k$, $l$, $n$, and $\Omega$ such that
      $$
      \|u\|_{\WW^{l,q}(\Omega)} \leq C \, \|u\|_{\WW^{k,p}(\Omega)} \quad\text{for all } u \in \WW^{k,p}(\Omega).
      $$

    \item If $l < k - \frac{n}{p} \leq l + 1$ (i.e. $l = k - \Big[\frac{n}{p}\Big] - 1$) and, setting $\frac{n}{p} = 0$ if $p = \infty$,
      $$
      \gamma = \begin{cases} \Big[ \frac{n}{p} \Big] + 1 - \frac{n}{p}, &\text{if } \frac{n}{p} \not \in \N, \\ \text{arbitrary in }(0,1), &\text{if } \frac{n}{p} \in \N, \end{cases}
      $$
      then $\WW^{k,p}(\Omega)$ is continuously embedded into $\CC^{l,\gamma}(\overline\Omega)$ and there is $C > 0$ depending on $p$, $\gamma$, $k$, $l$, $n$, and $\Omega$ such that
      $$
      \| u\|_{\CC^{l,\gamma}(\overline\Omega)} \leq C \, \|u\|_{\WW^{k,p}(\Omega)}.
      $$
      This embedding is to be understood up to the choice of a continuous version.
  \end{enumerate}
\end{thm}

\begin{proof}
  \begin{enumerate}[i)]
    \item If $u \in \WW^{m,r}(\Omega)$ with some $m \in \N$ and $r \in [1,n)$, then $\DD^\alpha u \in \WW^{1,r}(\Omega)$ for all $|\alpha| \leq m - 1$ by Proposition \ref{prop:sobolevProperties} and, by Theorem \ref{thm:embeddingpltn}, $\DD^\alpha u \in \Ell^q(\Omega)$ for all $q \in [1,r^*]$ which gives
    %and hence $u \in \WW^{m - 1,q}(\Omega)$ with
    $$
    \|u\|_{\WW^{m - 1,q}(\Omega)}
    \leq C_1 \sum_{|\alpha| \leq m - 1} \|\DD^\alpha u\|_{\Ell^q(\Omega)}
    \leq C_2 \sum_{|\alpha| \leq m - 1} \|\DD^\alpha u\|_{\WW^{1,r}(\Omega)}
    \leq C_3 \, \|u\|_{\WW^{m,r}(\Omega)},
    $$
%    and therefore
%    $$
%      \|u\|_{\WW^{m - 1,q}(\Omega)} \leq C_3 \, \|u\|_{\WW^{m,r}(\Omega)}  \quad\text{for all } q \in [1,r^*],
%    $$
    where $C_3 > 0$ depends only on $n$, $r$, $q$, $m$, and $\Omega$.
    Hence, defining 
    $p_0 \coloneqq p$ and $p_j \coloneqq p_{j - 1}^*$ for all $j = 1,\dots,k - l,$ we see that $\frac{1}{p_j} = \frac{1}{p_{j - 1}} - \frac{1}{n}$ and therefore $\frac{1}{p_j} = \frac{1}{p} - \frac{j}{n}$ i.e.
    $$
    p_j = \frac{np}{n- p\cdot j} \quad\text{with}\quad p_j > p_{j - 1}.
    $$
    If $p_j < n$ (i.e. $\frac{n}{p} > j + 1$) we have $p_i < n$ for all $i \in \{ 0, \dots, j\}$ and the previous argument yields the continuous embeddings of $\WW^{k - (i - 1), p_{i - 1}}(\Omega)$ into $\WW^{k-i,p_i}(\Omega)$ for all $i \in \{1,\dots,j+1\}$ and $\tilde C_i > 0$ depending on $k$, $i$, $p$, $n$, $\Omega$ such that
      \begin{align}
    \| u\|_{\WW^{k - i,p_i}(\Omega)}
        &\leq \tilde C_i \, \|u\|_{\WW^{k-(i-1),p_{i - 1}}(\Omega)} \quad\text{for all } u \in \WW^{k - ( i - 1),p_{i - 1}}(\Omega). \nonumber
        \intertext{Hence, by combining these estimates for $i = 1,\dots,j+1$ we have}
      \label{eq:sobolevIterationInequality}
      \|u\|_{\WW^{k - (j + 1),p_{j + 1}}(\Omega)}
        &\leq \tilde C_1 \cdot \tilde C_2 \cdot \ldots \cdot \tilde C_{j + 1} \, \|u\|_{\WW^{k,p}(\Omega)} \quad\text{for all } u \in \WW^{k,p}(\Omega)
      \end{align}
  if $\frac{n}{p} > j + 1$.

\item \emph{Proof of a)}:
  As $k - \frac{n}{p} < l$ implies $\frac{n}{p} > k - l$, we apply \eqref{eq:sobolevIterationInequality} with $j \coloneqq k - l - 1$ and obtain 
  $$
  \|u\|_{\WW^{l,p_{k - l}}(\Omega)} \leq C_4 \, \|u\|_{\WW^{k,p}(\Omega)}.
  $$
  As $\frac{1}{p_{k - l}} = \frac{1}{p} - \frac{k - l}{n}$ implies $k - \frac{n}{p} = l - \frac{n}{p_{k - l}}$ and hence $q \leq p_{k - l}$, Hölders inequality and the boundedness of $\Omega$ imply that $\WW^{l,p_{k - l}}(\Omega)$ is continuously embedded into $\WW^{l,q}(\Omega)$ and a) is proved ($\|u\|_{\WW^{l,q}(\Omega)} \leq C_5\, \|u\|_{\WW^{l,p_{k - l}}(\Omega)})$.

\item \emph{Proof of b)}:
  $k - \frac{n}{p} = l$ implies $\frac{n}{p} > k - l - 1$ and $p_{k - l - 1} = n$ so that \eqref{eq:sobolevIterationInequality} with $j = k - l - 2$ yields
  $$
  \|u\|_{\WW^{l + 1, n}(\Omega)} \leq C_6 \, \|u\|_{\WW^{k,p}(\Omega)} \quad\text{for all } u \in \WW^{k,p}(\Omega) \text{ and } k \geq l + 2.
  $$
  Since $k = l+1$ implies $p = n$, the above inequality is trivial for $k = l + 1$ if we chose $C_6 \geq 1$.
  But then, similar to the first part of i), we deduce from Proposition \ref{prop:embeddingspeqn} that $\WW^{l+1,n}(\Omega)$ is continuously embedded into $\WW^{l,q}(\Omega)$ for all $q \in [1,\infty)$, which implies b).
    
  \item \emph{Proof of c)}: For $\frac{n}{p} \notin\N_0$ we have $k - \frac{n}{p} < l + 1$ and \eqref{eq:sobolevIterationInequality} with $j = k - l - 2$ implies
    $$
  \|u\|_{\WW^{l+1,p_{k - l - 1}}(\Omega)} \leq C_7 \, \|u\|_{\WW^{k,p}(\Omega)} \quad\text{for all } u \in \WW^{k,p}(\Omega).
    $$
    Since we have 
    $$
    p_{k - l - 1} = \frac{np}{n - p \cdot (k - l - 1)} = \frac{np}{p\cdot \Big( \frac{n}{p} - k + l + 1 \Big)} > n,
    $$ 
    due to $k - \frac{n}{p} > l$, and 
    $$
    1 - \frac{n}{p_{k - l - 1}} 
    = 1 - \Big(\frac{n}{p} - (k - l - 1)\Big)
    = 1 - \frac{n}{p} + \left[ \frac{n}{p} \right]
    = \gamma,
    $$
    we conclude from Theorem \ref{thm:sumEmbeddingHoelder} (like in the first part of i)) that $\WW^{l+1,p_{k - l - 1}}(\Omega)$ is continuously embedded into $\CC^{l,\gamma}(\overline\Omega)$.

    For $\frac{n}{p} \in \N$ we have $k - \frac{n}{p} = l + 1$ and $l \leq k - 2$ so that b) implies for any $q \in [1,\infty)$
      $$
      \|u\|_{\WW^{l+1,q}(\Omega)} \leq C_8 \, \|u\|_{\WW^{k,p}(\Omega)} \quad\text{for all } u \in \WW^{k,p}(\Omega).
      $$
      But then for any $q \in (n,\infty)$, $\WW^{l+1,q}(\Omega)$ is continuously embedded into $\CC^{l,\gamma}(\Omega)$ with $\gamma = 1 - \frac{n}{q}$.
      As $q \in (n,\infty)$ is arbitrary we get the claimed embedding for any $\gamma \in (0,1)$.

      Finally, if $\frac{n}{p} = 0$, i.e. $p = \infty$, we have $l = k - 1$ and $\gamma = \left[ \frac{n}{p} \right] + 1 - \frac{n}{p} = 1 - \frac{n}{p} = 1$.
      Hence Theorem \ref{thm:sumEmbeddingHoelder} implies the continuous embedding of $\WW^{k,\infty}(\Omega)$ into $\CC^{k-1,1}(\overline\Omega) = \CC^{l,\gamma}(\overline\Omega)$ together with the claimed estimate.
      Altogether, c) is proved. \qedhere
  \end{enumerate}
\end{proof}

\section{Compact Embeddings}

Finally, we will study which compact embeddings we can deduce from the embeddings of Section \ref{sec:lpEmbedding} and Section \ref{sec:hoelderEmbedding}.
Therefore we first need criteria for precompactness of subsets of function spaces.

\begin{defn}
  Let $X$ be a Banach space.
  A set $\FF \subset X$ is \emph{precompact}, if any sequence $(f_m)_{m \in \N} \subset \FF$ has a subsequence which is convergent in $X$.
\end{defn}

For $X = \CC^0(\overline\Omega)$ we recall the Theorem of Arzel\`a-Ascoli.

\begin{thm}[Arzel\`a-Ascoli]
  \label{thm:arzelaAscoli}
  Let $K \subset \R^n$ be compact.
  A set $\FF \subset \CC^0(K)$ is precompact if and only if
  \begin{enumerate}[i)]
    \item $\sup_{f \in \FF} \| f\|_{\CC^0(K)} < \infty$ and
    \item $\FF$ is \emph{equicontinuous}, i.e. for all $\varepsilon > 0$ there exists $\delta > 0$ such that $|f(x) - f(y)| < \varepsilon$ for all $f \in \FF$ and for all $x,y \in K$ with $|x - y| < \delta$.
  \end{enumerate}
\end{thm}

Next we prove a compactness criterion in $\Ell^p(\Omega)$.

\begin{thm}[Kolmogoroff-Riesz-Fr\'echet]
\label{thm:KolmogoroffRieszFrechet}
  Let $\Omega \subset \R^n$ be bounded and measurable and $p \in [1,\infty)$.
  $\FF \subset \Ell^p(\Omega)$ is precompact if and only if
  \begin{enumerate}[i)]
    \item $\sup_{f \in \FF} \|f\|_{\Ell^p(\Omega)} < \infty$ and
    \item $\lim_{|h| \to 0} \Big( \sup_{f \in \FF} \| \tau_h \tilde f - \tilde f \|_{\Ell^p(\Omega)}\Big) = 0,$ where $\tilde f|_\Omega = f$, $\tilde f = 0$ on  $\R^n \setminus \Omega$, and $(\tau_h \tilde f)(x) \coloneqq \tilde f (x + h)$ for all $f \in \Ell^p(\Omega), x,h \in \R^n$.
  \end{enumerate}
\end{thm}

\begin{rem}
  If $\Omega$ is unbounded, $\FF \subset \Ell^p(\Omega)$ is precompact if and only if i), ii), and
  \begin{enumerate}
    \item[\textit{iii)}] $
  \lim_{r \to \infty} \Big( \sup_{f \in \FF} \|\tilde f\|_{\Ell^p(\R^n \setminus \BB_R(0))} \Big) = 0$ hold.
  \end{enumerate}
\end{rem}

\begin{proof}[Proof of Theorem \ref{thm:KolmogoroffRieszFrechet}]
  \begin{enumerate}[I)]
    \item Assume that $\FF \subset \Ell^p(\Omega)$ is precompact.
      If i) would be violated, there was a sequence $(f_m)_{m \in\N} \subset \FF$ such that $\|f_m\|_{\Ell^p(\Omega)} \to \infty$ as $m \to \infty$. This sequence cannot have a convergent subsequence. 

      %If ii) is violated, there are $(f_m)_{m \in \N} \subset \FF$ and $(h_m)_{m \in \N} \subset \R^n$ with $|h_m| \to 0$ and $\varepsilon_0 > 0$ such that
      %$$
      %\|\tau_{h_m} \tilde f_m - \tilde f_m \|_{\Ell^p(\Omega)} \geq \varepsilon_0 \quad\text{for all } m \in \N.
      %$$
      If ii) is violated, there exist $(h_m)_{m \in \N}$ with $\lim_{m \to \infty} |h_m| = 0$ and $\varepsilon_0  > 0$ such that 
      $$
      \limsup_{m \to \infty} \Big( \sup_{f \in \FF} \| \tau_{h_m} \tilde f - \tilde f \|_{\Ell^p(\Omega)}\Big) > \varepsilon_0.
      $$
      Hence, up to the choice of a subsequence, 
      $
      \sup_{f \in \FF} \| \tau_{h_{m}} \tilde f - \tilde f \|_{\Ell^p(\Omega)} > \varepsilon_0 \text{ for all } m \in \N
      $
      which yields a sequence $(f_m)_{m \in \N}$ in $\FF$ with
      $$
      \|\tau_{h_{m}} \tilde f_m - \tilde f_m \|_{\Ell^p(\Omega)} > \varepsilon_0 \quad\text{for all } m \in \N.
      $$
      As $\FF$ is precompact, there are $f \in \Ell^p(\Omega)$ and $(f_{m_k})_{k \in \N}$ such that $f_{m_k} \to f$ in $\Ell^p(\Omega)$ as $k \to \infty$.

      Hence,
      \begin{align*}
        &\liminf_{k \to \infty} \| \tau_{h_{m_k}} \tilde f - \tilde f \|_{\Ell^p(\Omega)} \\
        &\quad 
        \geq \liminf_{k \to \infty} \Big[\, \|\tau_{h_{m_k}} \tilde f_{m_k} - \tilde f_{m_k}\|_{\Ell^p(\Omega)} - \|\tau_{h_{m_k}} \tilde f - \tau_{h_{m_k}} \tilde f_{m_k} \|_{\Ell^p(\Omega)} - \|\tilde f_{m_k} - \tilde f \|_{\Ell^p(\Omega)} \Big] \\
        &\quad
        \geq \varepsilon_0 - 0 - 0 = \varepsilon_0 > 0,
      \end{align*}
      a contradiction to Proposition \ref{prop:continuousTrans} as $h_{m_k} \to 0$.

      Hence, i) and ii) have to hold.

    \item 

      Assume that i) and ii) hold.
      For $f \in \FF$ and $\varepsilon > 0$ we define $f_\varepsilon \coloneqq \eta_\varepsilon \ast f \in \CC^\infty(\R^n)$ and let $q \in (1,\infty]$ such that $\frac{1}{p} + \frac{1}{q} = 1$.
      \begin{enumerate}[a)]
        \item We claim that for all $\delta > 0$ there exists $\varepsilon_\delta > 0$ such that
          \begin{equation}
          \label{eq:lpepsilondelta}
          \|f_\varepsilon - f\|_{\Ell^p(\Omega)} \leq \delta \quad\text{for all } f \in \FF \text{ and for all } \varepsilon \in (0,\varepsilon_\delta).
        \end{equation}
        By Hölder's inequality and $\int_{\R^n} \eta_\varepsilon \d x = 1$, we have for $x \in \Omega$
        \begin{align*}
          |f_\varepsilon(x) - f(x) | 
          &= \Big| \int_{\BB_\varepsilon(x)} \eta_\varepsilon(x - y) (\tilde f (y) - \tilde f(x)) \d y \Big| \\
          &= \Big| \int_{\BB_\varepsilon(0)} \eta_\varepsilon(z) (\tilde f (x - z) - \tilde f(x)) \d z \Big| \\
          &\leq  \Big( \underbrace{\int_{\BB_\varepsilon(0)} \eta_\varepsilon(z) \d z}_{ = 1} \Big)^{\frac{1}{q}} \Big( \int_{\BB_\varepsilon(0)} \eta_\varepsilon(z) \, |\tau_{-z} \tilde f(x) - \tilde f(x)|^p \d z \Big)^{\frac{1}{p}}
        \end{align*}
        so that
        \begin{align*}
          \|f_\varepsilon - f\|_{\Ell^p(\Omega)}^p
          &\leq \int_\Omega \int_{\BB_\varepsilon(0)} \eta_\varepsilon(z) | \tau_{-z} \tilde f(x) - \tilde f(x)|^p \d z \d x \\
          &= \int_{\BB_\varepsilon(0)} \eta_\varepsilon(z) \Big(\int_\Omega |\tau_{-z} \tilde f(x) - \tilde f (x) |^p \d x \Big) \d z \\
          &\leq \sup_{|z| \leq \varepsilon_\delta} \| \tau_{-z} \tilde f - \tilde f \|_{\Ell^p(\Omega)}^p \underbrace{\int_{\BB_\varepsilon(0)} \eta_\varepsilon(z) \d z}_{= 1} 
          \leq \delta^p
        \end{align*}
        by ii) for $\varepsilon_\delta$ small enough.
        Hence, \eqref{eq:lpepsilondelta} is shown.

      \item By Hölder's inequality and Theorem \ref{thm:mollifier} (see proof of a)), we have for fixed $\varepsilon > 0$
         \begin{align*}
           \| f_\varepsilon\|_{\Ell^\infty(\Omega)}
           &\leq \|\eta_\varepsilon \|_{\Ell^q(\R^n)} \|f\|_{\Ell^p(\Omega)}
           \leq M \, \|\eta_\varepsilon \|_{\Ell^q(\R^n)} \quad\text{and} \\
           \|\nabla f_\varepsilon \|_{\Ell^\infty(\R^n)}
           &= \| \nabla \eta_\varepsilon \ast f \|_{\Ell^\infty(\R^n)}
           \leq \| \nabla \eta_\varepsilon \|_{\Ell^q(\R^n)} \|f\|_{\Ell^p(\Omega)}
           \leq M \|\nabla \eta_\varepsilon \|_{\Ell^q(\R^n)} 
         \end{align*}
         for all $f \in \FF$, where $M \coloneqq \sup_{f \in \FF} \| f\|_{\Ell^p(\Omega)} < \infty$.
         Hence, the set $$\FF_\varepsilon \coloneqq \{ f_\varepsilon \colon f \in \FF \}$$ is uniformly bounded in $\CC^0(\overline\Omega)$ and equicontinuous (since it is uniformly Lipschitz continuous) and hence precompact in $\CC^0(\overline\Omega)$ by the Arzel\`a-Ascoli Theorem \ref{thm:arzelaAscoli}.
        Hence, for any sequence $(g_m)_{m \in \N} \subset \FF_\varepsilon$ there exists $g \in \CC^0(\overline\Omega)$ and a subsequence such that $g_{m_k} \to g$ in $\CC^0(\overline\Omega)$.
        As $\Omega$ is bounded, this implies $g_{m_k} \to g$ in $\Ell^p(\Omega)$ as $k \to \infty$.
        Hence, $\FF_\varepsilon$ is precompact in $\Ell^p(\Omega)$ for fixed $\varepsilon > 0$.
      \item 
        We show that $\FF$ is precompact in $\Ell^p(\Omega)$.
        Let $(f_m)_{m \in \N} \subset \FF$ be arbitrary.
        Defining $$\Big(f_m^{(0)}\Big)_{m \in \N} \coloneqq (f_m)_{m \in \N},$$ we claim that for any $k \in \N$ there is a subsequence $\Big(f_m^{(k)}\Big)$ of $\Big(f_m^{(k - 1)}\Big)$ such that
        \begin{equation}
          \label{eq:lpcauchy}
          \|f_m^{(k)} - f_j^{(k - 1)} \|_{\Ell^p(\Omega)} \leq \frac{1}{k} \quad\text{for all } m,j \geq N_k.
        \end{equation}
        with some $N_k \geq k$.
        Given $(g_m)_{m \in \N} \coloneqq \big( f_m^{(k- 1)}\big)_{m \in \N}$, by \eqref{eq:lpepsilondelta} there is $\varepsilon_k > 0$ such that
        \begin{equation}
          \label{eq:cauchyMollifier}
          \|(g_m)_{\varepsilon_k} - g_m\|_{\Ell^p(\Omega)} \leq \frac{1}{3k}.
        \end{equation}
        As $\FF_{\varepsilon_k}$ is precompact in $\Ell^p(\Omega)$ by b), there is a subsequence $\big((g_{m_j})_{\varepsilon_k}\big)_{j \in \N}$ which is a Cauchy sequence in $\Ell^p(\Omega)$, hence for some $N_k \geq k$ we have
        \begin{equation}
          \label{eq:cauchyEpsilon}
          \| \big( g_{m_j} \big)_{\varepsilon_k} - \big( g_{m_i} \big)_{\varepsilon_k} \big) \|_{\Ell^p(\Omega)} \leq \frac{1}{3k} \quad\text{for all } i,j \geq N_k.
        \end{equation}
        Then
        \begin{align*}
          &\|g_{m_j} - g_{m_i}\|_{\Ell^p(\Omega)} \\
          &\quad \leq \
          \|g_{m_j} - (g_{m_j})_{\varepsilon_k} \|_{\Ell^p(\Omega)}
          + \|(g_{m_j})_{\varepsilon_k} - (g_{m_i})_{\varepsilon_k} \|_{\Ell^p(\Omega)}
          + \|(g_{m_i})_{\varepsilon_k} - g_{m_k} \|_{\Ell^p(\Omega)} \\
          &\hspace{-1.7em}\quad\overset{\eqref{eq:cauchyMollifier},\eqref{eq:cauchyEpsilon}}\leq \; \frac{1}{k} \quad\text{for all } i,j \geq N_k.
        \end{align*}
        Hence, $\Big( f_j^{(k)} \Big) \coloneqq (g_{m_j})_{j \in \N}$ satisfies \eqref{eq:lpcauchy}.
        Then a diagonal argument shows that the subsequence $\Big(f_{N_k})^{(k)} \Big)_{k \in \N}$ of $(f_m)_{m \in \N}$ is a Cauchy sequence in $\Ell^p(\Omega)$.

        Hence, $\FF$ is precompact in $\Ell^p(\Omega)$. \qedhere
    \end{enumerate}
  \end{enumerate}
\end{proof}

Now we prove the announced compact embeddings of $\WW^{1,p}(\Omega)$.

\begin{thm}[Rellich-Kondrachov]
  \label{thm:RellichKondrachov}
  Let $\Omega \subset \R^n$ be a bounded domain with $\partial\Omega \in \CC^1$ and $p \in [1,\infty]$.
  Then $\WW^{1,p}(\Omega)$ is compactly embedded into
  \begin{enumerate}[a)]
    \item $\Ell^q(\Omega)$ for any $q \in [1,p^*)$ if $p \in [1,n)$.
    \item $\Ell^q(\Omega)$ for any $q \in [1,\infty)$ if $p = n$.
    \item $\CC^0(\overline\Omega)$ if $p \in (n,\infty]$ up to the choice of a continuous version.
  \end{enumerate}
\end{thm}

\begin{proof}
  \begin{enumerate}[a)]
    \item Let $\varphi \in \CC_0^\infty(\R^n)$ and $h \in \R^n$.
      Then
      $$
      |\tau_h \varphi(x) - \varphi(x)|
      = \Big|\int_0^1 \frac{\d\ }{\d t} \varphi(x + th) \d t \Big|
      \leq \int_0^1 |\nabla\varphi(x + th)| \, |h| \d t \quad\text{for all } x \in \R^n.
      $$
      Hence, with $\frac{1}{p'} + \frac{1}{p} = 1$ we have
      $$
      \|\tau_h \varphi - \varphi \|_{\Ell^p(\Omega)}^p 
      \overset{\text{Hölder}}{\leq} |h|^p \cdot \int_\Omega \Big[ \Big( \int_0^1 1 \d t \Big)^{\frac{1}{p'}} \Big( \int_0^1 |\nabla\varphi(x + th)|^p \d t \Big)^{\frac{1}{p}} \Big] \d x
      \overset{\text{Fubini}}{\leq} |h|^p \|\nabla\varphi\|_{\Ell^p(\R^n)}^p.
      $$
      As for any $u \in \WW^{1,p}(\Omega)$ there is $(\varphi_n)_{n \in \N} \subset \CC_0^\infty(\R^n)$ with $\varphi_n \to u$ in $\WW^{1,p}(\Omega)$ and
      $$
      \|\varphi_n\|_{\WW^{1,p}(\R^n)} \leq C_1 \, \|u\|_{\WW^{1,p}(\Omega)} \quad\text{for all } n \in \N
      $$
      with $C_1 > 0$ independent of $u$ (see Theorem \ref{thm:extension} and Corollary \ref{cor:W0andWcoincide}), we have
      \begin{equation}
        \label{eq:translationEstimate}
        \|\tau_h \tilde u - \tilde u\|_{\Ell^p(\Omega)} \leq |h| \, C_1 \, \|u\|_{\WW^{1,p}(\Omega)} \quad\text{for all } u \in \WW^{1,p}(\Omega), h \in \R^n.
      \end{equation}
      Now let $(u_m)_{m \in \N} \subset \WW^{1,p}(\Omega)$ be bounded in $\WW^{1,p}(\Omega)$ and $\FF \coloneqq \{ u_m \colon m \in \N\}$.
      Then by \eqref{eq:embeddingpltn} $\FF$ is bounded in $\Ell^q(\Omega)$, i.e. i) in Thorem \ref{thm:KolmogoroffRieszFrechet} holds (for $q$), where $q \in [1,p^*)$.
        Hence, $M \coloneqq \sup_{m \in \N} \|u_m\|_{\WW^{1,p}(\Omega)}$ is finite and, as $q \in [1,p^*)$, there is $\theta \in (0,1]$ such that $\frac{1}{q} = \frac{\theta}{1} + \frac{1 - \theta}{p^*}$.
        Then, we obtain
        \begin{align*}
        \|\tau_h \tilde u_m - \tilde u_m \|_{\Ell^q(\Omega)}
        &= \Big( \int_\Omega |\tau_h \tilde u_m - \tilde u_m |^{q\theta}\cdot |\tau_h \tilde u_m - \tilde u_m |^{q(1 - \theta)} \Big)^{\frac{1}{q}} \\
        &\leq \Big( \int_\Omega |\tau_h \tilde u_m - \tilde u_m |\d x \Big)^\theta \cdot \Big( \int_\Omega |\tau_h \tilde u_m - \tilde u_m |^{p^*} \Big)^{\frac{(1 - \theta)}{p^*}}
        \intertext{which holds since $1 = \frac{1}{\frac{1}{q\theta}} + \frac{1}{\frac{p^*}{q(1 - \theta)}}$ and furthermore by Hölder's inequality}
        &\leq \Big( |\Omega|^{\frac{1}{p'}} \|\tau_h \tilde u_m - \tilde u_m \|_{\Ell^p(\Omega)} \Big)^\theta \cdot \Big( 2\, \|u_m \|_{\Ell^{p^*}(\Omega)} \Big)^{1 - \theta} \\
        &\hspace{-1.5em}\overset{\eqref{eq:embeddingpltn},\eqref{eq:translationEstimate}} \leq |\Omega|^{\frac{\theta}{p'}} |h|^\theta \, C_1^\theta \, \|u_m\|_{\WW^{1,p}(\Omega)}^\theta \; 2^{1 - \theta} \Big( C_2 \|u_m\|_{\WW^{1,p}(\Omega)} \Big)^{1 - \theta} \\
        &\leq |h|^\theta \, M \, C_1^\theta \, |\Omega|^{\frac{\theta}{p'}} \, (2C_1)^{1 - \theta} \quad\text{for all } m \in \N.
        \end{align*}
        As $\theta > 0$, ii) in Theorem \ref{thm:KolmogoroffRieszFrechet} is satisfied for $\FF$.
        Hence, $\FF$ is precompact in $\Ell^q(\Omega)$ so that the embedding of $\WW^{1,p}(\Omega)$ into $\Ell^q(\Omega)$ is compact by Definition \ref{defn:embedding} and Theorem \ref{thm:embeddingpltn}.

      \item For $q \in [1,\infty)$ there is $\tilde p \in [1,n)$ such that $\tilde p^* > q$.
          As $\WW^{1,p}(\Omega)$ is continuously embedded into $\Ell^q(\Omega)$ by Proposition \ref{prop:embeddingspeqn} and any bounded sequence $(u_m)_{m \in \N} \subset \WW^{1,p}(\Omega)$ is also bounded in $\WW^{1,\tilde p}(\Omega)$ by Hölder's inequality, a) for $\tilde p$ shows that $(u_m)_{m \in \N}$ has a convergent subsequence in $\Ell^q(\Omega)$.
          This proves b).

      \item The continuous embedding of $\WW^{1,p}(\Omega)$ into $\CC^{0,\gamma}(\overline\Omega)$ with some $\gamma \in (0,1]$ by Theorem \ref{thm:sumEmbeddingHoelder} implies that any bounded sequence in $\WW^{1,q}(\Omega)$ is equicontinuous and bounded in $\CC^0(\overline\Omega)$.
        Hence, by Arzel\`a-Ascoli it has a convergent subsequence in $\CC^0(\overline\Omega)$.
        This proves part c). \qedhere
  \end{enumerate}
\end{proof}

\begin{rem}
  \begin{enumerate}[a)]
    \item In particular, $\WW^{1,p}(\Omega)$ is compactly embedded into $\Ell^p(\Omega)$ for all $p \in [1,\infty]$ if $\Omega$ is a bounded domain with $\partial\Omega \in \CC^1$.
      This is in general not true for $\Omega$ unbounded (see \cite{adams2003sobolev}).
    \item All embeddings in Theorem \ref{thm:RellichKondrachov} are also valid for $\WW_0^{1,p}(\Omega)$ for any bounded domain $\Omega \subset \R^n$.
    \item The embedding of $\WW^{1,p}(\Omega)$ into $\Ell^{p^*}(\Omega)$ for $p \in [1,n)$ is \emph{not} compact.
  \end{enumerate}
\end{rem}
